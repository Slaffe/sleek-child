App={init:function(){this.initPlugins();this.initModules()},initPlugins:function(){for(var plugin in this.plugins){if(typeof(this.plugins[plugin].init)=='function'){this.plugins[plugin].init()}}},initModules:function(){for(var module in this.modules){var id=module.replace(/([A-Z])/g,'-$1').toLowerCase();id=id.substring(0,1)=='-'?id.substring(1):id;var mod=document.getElementById(id);if(mod&&typeof(this.modules[module].init)=='function'){this.modules[module].init(mod)}}},modules:[],plugins:[]};function number_format(number,decimals,dec_point,thousands_sep){number=(number+'').replace(/[^0-9+\-Ee.]/g,'');var n=!isFinite(+number)?0:+number,prec=!isFinite(+decimals)?0:Math.abs(decimals),sep=(typeof thousands_sep==='undefined')?',':thousands_sep,dec=(typeof dec_point==='undefined')?'.':dec_point,s='',toFixedFix=function(n,prec){var k=Math.pow(10,prec);return''+(Math.round(n*k)/k).toFixed(prec)};s=(prec?toFixedFix(n,prec):''+Math.round(n)).split('.');if(s[0].length>3){s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,sep)}if((s[1]||'').length<prec){s[1]=s[1]||'';s[1]+=new Array(prec-s[1].length+1).join('0')}return s.join(dec)}App.plugins.AddScrollClasses={init:function(){var lastST=0;var sensitivity=100;window.addEventListener('scroll',function(e){var st=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop;if(st){document.body.classList.add('has-scrolled')}else{document.body.classList.remove('has-scrolled')}if(Math.abs(lastST-st)>sensitivity){if(st>lastST){document.body.classList.remove('scrolling-up');document.body.classList.add('scrolling-down')}else{document.body.classList.remove('scrolling-down');document.body.classList.add('scrolling-up')}lastST=st}})}};App.plugins.InPageLinkScroll={offset:0,init:function(){var root=/firefox|trident/i.test(navigator.userAgent)?document.documentElement:document.body;var easeInOutCubic=function(t,b,c,d){if((t/=d/2)<1){return c/2*t*t*t+b}return c/2*((t-=2)*t*t+2)+b};document.body.addEventListener('click',function(e){var clicked=e.target;var href=clicked.tagName.toUpperCase()=='A'?clicked.getAttribute('href'):false;if(!href){return}var targetID=href.match(/#(.*?)$/);if(!(targetID[1]&&targetID[1].length)){return}targetID=targetID[1];var startTime;var startPos=root.scrollTop;var endPos=document.getElementById(targetID).getBoundingClientRect().top;endPos-=App.plugins.InPageLinkScroll.offset;var maxScroll=root.scrollHeight-window.innerHeight;var scrollEndValue=startPos+endPos<maxScroll?endPos:maxScroll-startPos;var duration=900;var scroll=function(timestamp){startTime=startTime||timestamp;var elapsed=timestamp-startTime;var progress=easeInOutCubic(elapsed,startPos,scrollEndValue,duration);root.scrollTop=progress;elapsed<duration&&requestAnimationFrame(scroll)};requestAnimationFrame(scroll);e.preventDefault()})}};App.plugins.InputRangeUtils={rangeLeftColor:'#06c',rangeRightColor:'#888',init:function(){this.values();this.colors()},values:function(){var inputs=document.querySelectorAll('input[type=range]');for(var i=0;i<inputs.length;i++){(function(){var input=inputs[i];var label=document.querySelector('label[for="'+input.id+'"]');var prefix=input.getAttribute('data-value-prefix')?input.getAttribute('data-value-prefix'):'';var suffix=input.getAttribute('data-value-suffix')?input.getAttribute('data-value-suffix'):'';var value=document.createElement('span');value.classList.add('value');label.appendChild(value);var updateValue=function(){var niceVal=typeof(number_format)=='undefined'?input.value:number_format(input.value,0,',',' ');value.innerHTML=prefix+niceVal+suffix};updateValue();input.addEventListener('input',updateValue);input.addEventListener('change',updateValue)})()}},colors:function(){var self=this;var inputs=document.querySelectorAll('input[type=range]');for(var i=0;i<inputs.length;i++){(function(){var input=inputs[i];var updateColor=function(){var val=(input.value-input.getAttribute('min'))/(input.getAttribute('max')-input.getAttribute('min'));val*=100;input.style.backgroundImage='linear-gradient(90deg, '+self.rangeLeftColor+' 0%, '+self.rangeLeftColor+' '+val+'%, '+self.rangeRightColor+' '+val+'%, '+self.rangeRightColor+' 100%)'};updateColor();input.addEventListener('input',updateColor);input.addEventListener('change',updateColor)})()}}};App.plugins.InPageLinkScroll.offset=70;